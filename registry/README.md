# Registry

При первом запросе создает пользователя и начисляет бонусные баллы на счет

- Купить товар
- Отдает список покупок
- Отдает список запросов

## TODO

Registry

Данный сервис принимает запросы от пользователя.
Каждый запрос записывается в базу.

Endpoints:

/requests
Возвращает все запросы для текущего пользователя.

/requests/{id}
Возвращает все зарегистрированные запросы для пользователя с указанным id

POST /order
Создаёт новый заказ.

Как проходит обработка заказа.

Заказ записывается в базу данных со статусом. ORDER_PENDING
Дальше отправляется сообщение в топик storage-reserve-order.
Ожидаем пока придет сообщение для данного заказа из топика ...
При успешном резервировании на стороне storage заказ меняет статус на ORDER_RESERVED.
Ожидаем пока придет сообщение для данного заказа из топика ...
При успешной оплате заказа его статус изменяется на ORDER_PAID. Если ошибка при оплате, то статус становится ORDER_PAYMENT_PROBLEM